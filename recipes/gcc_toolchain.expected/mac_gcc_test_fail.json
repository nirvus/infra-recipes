[
  {
    "cmd": [],
    "name": "ensure_gitiles"
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[START_DIR]/cipd/gitiles",
      "-ensure-file",
      "infra/tools/luci/gitiles/mac-amd64 latest",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "infra_step": true,
    "name": "ensure_gitiles.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": [@@@",
      "@@@STEP_LOG_LINE@json.output@    {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"instance_id\": \"resolved-instance_id-of-latest----------\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"package\": \"infra/tools/luci/gitiles/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@    }@@@",
      "@@@STEP_LOG_LINE@json.output@  ]@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [],
    "name": "ensure_goma"
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[START_DIR]/cipd/goma",
      "-ensure-file",
      "infra_internal/goma/client/mac-amd64 release",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "infra_step": true,
    "name": "ensure_goma.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": [@@@",
      "@@@STEP_LOG_LINE@json.output@    {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"instance_id\": \"resolved-instance_id-of-release---------\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"package\": \"infra_internal/goma/client/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@    }@@@",
      "@@@STEP_LOG_LINE@json.output@  ]@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [],
    "name": "ensure_gsutil"
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[START_DIR]/cipd/gsutil",
      "-ensure-file",
      "infra/tools/gsutil latest",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "infra_step": true,
    "name": "ensure_gsutil.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": [@@@",
      "@@@STEP_LOG_LINE@json.output@    {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"instance_id\": \"resolved-instance_id-of-latest----------\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"package\": \"infra/tools/gsutil\"@@@",
      "@@@STEP_LOG_LINE@json.output@    }@@@",
      "@@@STEP_LOG_LINE@json.output@  ]@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "[START_DIR]/cipd/gitiles/gitiles",
      "refs",
      "-json-output",
      "/path/to/tmp/json",
      "https://gnu.googlesource.com/binutils-gdb",
      "refs"
    ],
    "name": "binutils refs",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"refs/heads/binutils-2_30-branch\": \"3d861fdb826c2f5cf270dd5f585d0e6057e1bf4f\"@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "[START_DIR]/cipd/gitiles/gitiles",
      "refs",
      "-json-output",
      "/path/to/tmp/json",
      "https://gnu.googlesource.com/gcc",
      "refs"
    ],
    "name": "gcc refs",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"refs/heads/roland/7/pr77609\": \"4b5e15daff8b54440e3fda451c318ad31e532fab\"@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "search",
      "fuchsia/gcc/mac-amd64",
      "-tag",
      "git_revision:4b5e15daff8b54440e3fda451c318ad31e532fab,3d861fdb826c2f5cf270dd5f585d0e6057e1bf4f",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "name": "cipd search fuchsia/gcc/mac-amd64 git_revision:4b5e15daff8b54440e3fda451c318ad31e532fab,3d861fdb826c2f5cf270dd5f585d0e6057e1bf4f",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": []@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [],
    "name": "ensure_packages"
  },
  {
    "cmd": [
      "cipd",
      "ensure",
      "-root",
      "[START_DIR]/cipd",
      "-ensure-file",
      "fuchsia/clang/${platform} goma",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "infra_step": true,
    "name": "ensure_packages.ensure_installed",
    "~followup_annotations": [
      "@@@STEP_NEST_LEVEL@1@@@",
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": [@@@",
      "@@@STEP_LOG_LINE@json.output@    {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"instance_id\": \"resolved-instance_id-of-goma------------\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"package\": \"fuchsia/clang/${platform}\"@@@",
      "@@@STEP_LOG_LINE@json.output@    }@@@",
      "@@@STEP_LOG_LINE@json.output@  ]@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "xcrun",
      "--show-sdk-path"
    ],
    "name": "xcrun",
    "stdout": "/path/to/tmp/",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@raw_io.output[sdk-path]@/some/xcode/path@@@",
      "@@@STEP_LOG_END@raw_io.output[sdk-path]@@@"
    ]
  },
  {
    "cmd": [
      "cipd",
      "describe",
      "fuchsia/gcc/mac-amd64",
      "-version",
      "latest",
      "-json-output",
      "/path/to/tmp/json"
    ],
    "name": "cipd describe fuchsia/gcc/mac-amd64",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@json.output@{@@@",
      "@@@STEP_LOG_LINE@json.output@  \"result\": {@@@",
      "@@@STEP_LOG_LINE@json.output@    \"pin\": {@@@",
      "@@@STEP_LOG_LINE@json.output@      \"instance_id\": \"resolved-instance_id-of-latest----------\", @@@",
      "@@@STEP_LOG_LINE@json.output@      \"package\": \"fuchsia/gcc/mac-amd64\"@@@",
      "@@@STEP_LOG_LINE@json.output@    }, @@@",
      "@@@STEP_LOG_LINE@json.output@    \"refs\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"modified_by\": \"user:44-blablbla@developer.gserviceaccount.com\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"modified_ts\": 1446574210, @@@",
      "@@@STEP_LOG_LINE@json.output@        \"ref\": \"latest\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ], @@@",
      "@@@STEP_LOG_LINE@json.output@    \"registered_by\": \"user:44-blablbla@developer.gserviceaccount.com\", @@@",
      "@@@STEP_LOG_LINE@json.output@    \"registered_ts\": 1446574210, @@@",
      "@@@STEP_LOG_LINE@json.output@    \"tags\": [@@@",
      "@@@STEP_LOG_LINE@json.output@      {@@@",
      "@@@STEP_LOG_LINE@json.output@        \"registered_by\": \"user:44-blablbla@developer.gserviceaccount.com\", @@@",
      "@@@STEP_LOG_LINE@json.output@        \"registered_ts\": 1446574210, @@@",
      "@@@STEP_LOG_LINE@json.output@        \"tag\": \"git_revision:b824b5a2484202f6eabbe118b1cf7682ce77b76e,5898623efb820fc56123da2e316756a9a32cb59b\"@@@",
      "@@@STEP_LOG_LINE@json.output@      }@@@",
      "@@@STEP_LOG_LINE@json.output@    ]@@@",
      "@@@STEP_LOG_LINE@json.output@  }@@@",
      "@@@STEP_LOG_LINE@json.output@}@@@",
      "@@@STEP_LOG_END@json.output@@@"
    ]
  },
  {
    "cmd": [
      "python",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/binutils-gdb"
    ],
    "infra_step": true,
    "name": "makedirs"
  },
  {
    "cmd": [
      "git",
      "init"
    ],
    "cwd": "[START_DIR]/binutils-gdb",
    "infra_step": true,
    "name": "git init"
  },
  {
    "cmd": [
      "git",
      "remote",
      "add",
      "origin",
      "https://gnu.googlesource.com/binutils-gdb"
    ],
    "cwd": "[START_DIR]/binutils-gdb",
    "infra_step": true,
    "name": "git remote"
  },
  {
    "cmd": [
      "git",
      "fetch",
      "origin"
    ],
    "cwd": "[START_DIR]/binutils-gdb",
    "infra_step": true,
    "name": "git fetch"
  },
  {
    "cmd": [
      "git",
      "checkout",
      "-f",
      "3d861fdb826c2f5cf270dd5f585d0e6057e1bf4f"
    ],
    "cwd": "[START_DIR]/binutils-gdb",
    "infra_step": true,
    "name": "git checkout"
  },
  {
    "cmd": [
      "git",
      "rev-parse",
      "HEAD"
    ],
    "cwd": "[START_DIR]/binutils-gdb",
    "infra_step": true,
    "name": "git rev-parse",
    "stdout": "/path/to/tmp/",
    "~followup_annotations": [
      "@@@SET_BUILD_PROPERTY@got_revision@\"deadbeef\"@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "clean",
      "-f",
      "-d",
      "-x"
    ],
    "cwd": "[START_DIR]/binutils-gdb",
    "infra_step": true,
    "name": "git clean"
  },
  {
    "cmd": [
      "git",
      "submodule",
      "sync"
    ],
    "cwd": "[START_DIR]/binutils-gdb",
    "infra_step": true,
    "name": "submodule sync"
  },
  {
    "cmd": [
      "git",
      "submodule",
      "update",
      "--init"
    ],
    "cwd": "[START_DIR]/binutils-gdb",
    "infra_step": true,
    "name": "submodule update"
  },
  {
    "cmd": [
      "git",
      "diff",
      "--name-only",
      "5898623efb820fc56123da2e316756a9a32cb59b..3d861fdb826c2f5cf270dd5f585d0e6057e1bf4f"
    ],
    "cwd": "[START_DIR]/binutils-gdb",
    "infra_step": true,
    "name": "check for changes other than bfd/version.h",
    "stdout": "/path/to/tmp/",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@raw_io.output[changed files]@bfd/version.h@@@",
      "@@@STEP_LOG_LINE@raw_io.output[changed files]@others@@@",
      "@@@STEP_LOG_END@raw_io.output[changed files]@@@"
    ]
  },
  {
    "cmd": [
      "python",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[START_DIR]/gcc"
    ],
    "infra_step": true,
    "name": "makedirs (2)"
  },
  {
    "cmd": [
      "git",
      "init"
    ],
    "cwd": "[START_DIR]/gcc",
    "infra_step": true,
    "name": "git init (2)"
  },
  {
    "cmd": [
      "git",
      "remote",
      "add",
      "origin",
      "https://gnu.googlesource.com/gcc"
    ],
    "cwd": "[START_DIR]/gcc",
    "infra_step": true,
    "name": "git remote (2)"
  },
  {
    "cmd": [
      "git",
      "fetch",
      "origin"
    ],
    "cwd": "[START_DIR]/gcc",
    "infra_step": true,
    "name": "git fetch (2)"
  },
  {
    "cmd": [
      "git",
      "checkout",
      "-f",
      "4b5e15daff8b54440e3fda451c318ad31e532fab"
    ],
    "cwd": "[START_DIR]/gcc",
    "infra_step": true,
    "name": "git checkout (2)"
  },
  {
    "cmd": [
      "git",
      "rev-parse",
      "HEAD"
    ],
    "cwd": "[START_DIR]/gcc",
    "infra_step": true,
    "name": "git rev-parse (2)",
    "stdout": "/path/to/tmp/",
    "~followup_annotations": [
      "@@@SET_BUILD_PROPERTY@got_revision@\"deadbeef\"@@@"
    ]
  },
  {
    "cmd": [
      "git",
      "clean",
      "-f",
      "-d",
      "-x"
    ],
    "cwd": "[START_DIR]/gcc",
    "infra_step": true,
    "name": "git clean (2)"
  },
  {
    "cmd": [
      "git",
      "submodule",
      "sync"
    ],
    "cwd": "[START_DIR]/gcc",
    "infra_step": true,
    "name": "submodule sync (2)"
  },
  {
    "cmd": [
      "git",
      "submodule",
      "update",
      "--init"
    ],
    "cwd": "[START_DIR]/gcc",
    "infra_step": true,
    "name": "submodule update (2)"
  },
  {
    "cmd": [
      "git",
      "diff",
      "--name-only",
      "b824b5a2484202f6eabbe118b1cf7682ce77b76e..4b5e15daff8b54440e3fda451c318ad31e532fab"
    ],
    "cwd": "[START_DIR]/gcc",
    "infra_step": true,
    "name": "check for changes other than gcc/DATESTAMP",
    "stdout": "/path/to/tmp/",
    "~followup_annotations": [
      "step returned non-zero exit code: 1",
      "@@@STEP_LOG_END@raw_io.output[changed files]@@@",
      "@@@STEP_EXCEPTION@@@"
    ]
  },
  {
    "cmd": [
      "[START_DIR]/gcc/contrib/download_prerequisites"
    ],
    "cwd": "[START_DIR]/gcc",
    "name": "download prerequisites"
  },
  {
    "cmd": [
      "python",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[TMP_BASE]/gcc_tmp_1/gcc-darwin"
    ],
    "infra_step": true,
    "name": "create pkg dir"
  },
  {
    "cmd": [
      "python",
      "-u",
      "[START_DIR]/cipd/goma/goma_ctl.py",
      "restart"
    ],
    "env": {
      "GOMA_CACHE_DIR": "[CACHE]/goma",
      "GOMA_DEPS_CACHE_FILE": "goma_deps_cache",
      "GOMA_FAIL_FOR_UNSUPPORTED_COMPILER_FLAGS": "false"
    },
    "infra_step": true,
    "name": "start_goma"
  },
  {
    "cmd": [
      "python",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[TMP_BASE]/gcc_tmp_1/binutils_aarch64_build_dir"
    ],
    "infra_step": true,
    "name": "create binutils aarch64 build dir"
  },
  {
    "cmd": [
      "[START_DIR]/binutils-gdb/configure",
      "--enable-deterministic-archives",
      "--enable-targets=arm-eabi",
      "CC=[START_DIR]/cipd/goma/gomacc [START_DIR]/cipd/bin/clang",
      "CFLAGS=-O3 --sysroot=/some/xcode/path -fbracket-depth=1024",
      "CXX=[START_DIR]/cipd/goma/gomacc [START_DIR]/cipd/bin/clang++",
      "CXXFLAGS=-O3 --sysroot=/some/xcode/path -fbracket-depth=1024",
      "--prefix=",
      "--target=aarch64-elf",
      "--enable-initfini-array",
      "--enable-gold",
      "--enable-plugins",
      "--enable-threads",
      "--disable-werror",
      "--disable-nls",
      "--with-included-gettext"
    ],
    "cwd": "[TMP_BASE]/gcc_tmp_1/binutils_aarch64_build_dir",
    "name": "configure aarch64 binutils"
  },
  {
    "cmd": [
      "python",
      "-u",
      "\nimport multiprocessing\nimport sys\n\njob_limit = 200\nif sys.platform.startswith('linux'):\n  # Use 80 for linux not to load goma backend.\n  job_limit = 80\n\ntry:\n  jobs = min(job_limit, multiprocessing.cpu_count() * 10)\nexcept NotImplementedError:\n  jobs = 50\n\nprint jobs\n"
    ],
    "cwd": "[TMP_BASE]/gcc_tmp_1/binutils_aarch64_build_dir",
    "name": "calculate the number of recommended jobs",
    "stdout": "/path/to/tmp/",
    "~followup_annotations": [
      "@@@STEP_LOG_LINE@python.inline@@@@",
      "@@@STEP_LOG_LINE@python.inline@import multiprocessing@@@",
      "@@@STEP_LOG_LINE@python.inline@import sys@@@",
      "@@@STEP_LOG_LINE@python.inline@@@@",
      "@@@STEP_LOG_LINE@python.inline@job_limit = 200@@@",
      "@@@STEP_LOG_LINE@python.inline@if sys.platform.startswith('linux'):@@@",
      "@@@STEP_LOG_LINE@python.inline@  # Use 80 for linux not to load goma backend.@@@",
      "@@@STEP_LOG_LINE@python.inline@  job_limit = 80@@@",
      "@@@STEP_LOG_LINE@python.inline@@@@",
      "@@@STEP_LOG_LINE@python.inline@try:@@@",
      "@@@STEP_LOG_LINE@python.inline@  jobs = min(job_limit, multiprocessing.cpu_count() * 10)@@@",
      "@@@STEP_LOG_LINE@python.inline@except NotImplementedError:@@@",
      "@@@STEP_LOG_LINE@python.inline@  jobs = 50@@@",
      "@@@STEP_LOG_LINE@python.inline@@@@",
      "@@@STEP_LOG_LINE@python.inline@print jobs@@@",
      "@@@STEP_LOG_END@python.inline@@@"
    ]
  },
  {
    "cmd": [
      "make",
      "-j50",
      "all-binutils",
      "all-gas",
      "all-ld",
      "all-gold"
    ],
    "cwd": "[TMP_BASE]/gcc_tmp_1/binutils_aarch64_build_dir",
    "name": "build aarch64 binutils"
  },
  {
    "cmd": [
      "make",
      "-j2",
      "-k",
      "check-binutils",
      "check-gas",
      "check-ld",
      "check-gold"
    ],
    "cwd": "[TMP_BASE]/gcc_tmp_1/binutils_aarch64_build_dir",
    "name": "test aarch64 binutils"
  },
  {
    "cmd": [
      "make",
      "-j1",
      "DESTDIR=[TMP_BASE]/gcc_tmp_1/gcc-darwin",
      "install-strip-binutils",
      "install-strip-gas",
      "install-strip-ld",
      "install-strip-gold"
    ],
    "cwd": "[TMP_BASE]/gcc_tmp_1/binutils_aarch64_build_dir",
    "name": "install aarch64 binutils"
  },
  {
    "cmd": [
      "python",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "ensure-directory",
      "--mode",
      "0777",
      "[TMP_BASE]/gcc_tmp_1/gcc_aarch64_build_dir"
    ],
    "infra_step": true,
    "name": "create gcc aarch64 build dir"
  },
  {
    "cmd": [
      "[START_DIR]/gcc/configure",
      "--enable-languages=c,c++",
      "--disable-libstdcxx",
      "--disable-libssp",
      "--disable-libquadmath",
      "CC=[START_DIR]/cipd/goma/gomacc [START_DIR]/cipd/bin/clang",
      "CFLAGS=-O3 --sysroot=/some/xcode/path -fbracket-depth=1024",
      "CXX=[START_DIR]/cipd/goma/gomacc [START_DIR]/cipd/bin/clang++",
      "CXXFLAGS=-O3 --sysroot=/some/xcode/path -fbracket-depth=1024",
      "--prefix=",
      "--target=aarch64-elf",
      "--enable-initfini-array",
      "--enable-gold",
      "--enable-plugins",
      "--enable-threads",
      "--disable-werror",
      "--disable-nls",
      "--with-included-gettext"
    ],
    "cwd": "[TMP_BASE]/gcc_tmp_1/gcc_aarch64_build_dir",
    "env_prefixes": {
      "PATH": [
        "[TMP_BASE]/gcc_tmp_1/gcc-darwin/bin"
      ]
    },
    "name": "configure aarch64 gcc"
  },
  {
    "cmd": [
      "make",
      "-j50",
      "MAKEOVERRIDES=USE_GCC_STDINT=provide",
      "all-gcc",
      "all-target-libgcc"
    ],
    "cwd": "[TMP_BASE]/gcc_tmp_1/gcc_aarch64_build_dir",
    "env_prefixes": {
      "PATH": [
        "[TMP_BASE]/gcc_tmp_1/gcc-darwin/bin"
      ]
    },
    "name": "build aarch64 gcc"
  },
  {
    "cmd": [
      "make",
      "-j2",
      "MAKEOVERRIDES=USE_GCC_STDINT=provide",
      "check-gcc"
    ],
    "cwd": "[TMP_BASE]/gcc_tmp_1/gcc_aarch64_build_dir",
    "env_prefixes": {
      "PATH": [
        "[TMP_BASE]/gcc_tmp_1/gcc-darwin/bin"
      ]
    },
    "name": "test aarch64 gcc",
    "~followup_annotations": [
      "step returned non-zero exit code: 1",
      "@@@STEP_FAILURE@@@"
    ]
  },
  {
    "cmd": [
      "python",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[TMP_BASE]/gcc_tmp_1/gcc_aarch64_build_dir/gcc/testsuite/gcc/gcc.log",
      "/path/to/tmp/"
    ],
    "cwd": "[TMP_BASE]/gcc_tmp_1/gcc_aarch64_build_dir",
    "env_prefixes": {
      "PATH": [
        "[TMP_BASE]/gcc_tmp_1/gcc-darwin/bin"
      ]
    },
    "infra_step": true,
    "name": "gcc aarch64 gcc/testsuite/gcc/gcc.log"
  },
  {
    "cmd": [
      "python",
      "-u",
      "RECIPE_MODULE[recipe_engine::file]/resources/fileutil.py",
      "--json-output",
      "/path/to/tmp/json",
      "copy",
      "[TMP_BASE]/gcc_tmp_1/gcc_aarch64_build_dir/gcc/testsuite/g++/g++.log",
      "/path/to/tmp/"
    ],
    "cwd": "[TMP_BASE]/gcc_tmp_1/gcc_aarch64_build_dir",
    "env_prefixes": {
      "PATH": [
        "[TMP_BASE]/gcc_tmp_1/gcc-darwin/bin"
      ]
    },
    "infra_step": true,
    "name": "gcc aarch64 gcc/testsuite/g++/g++.log"
  },
  {
    "cmd": [],
    "cwd": "[TMP_BASE]/gcc_tmp_1/gcc_aarch64_build_dir",
    "env_prefixes": {
      "PATH": [
        "[TMP_BASE]/gcc_tmp_1/gcc-darwin/bin"
      ]
    },
    "name": "test aarch64 gcc logs",
    "~followup_annotations": [
      "@@@STEP_LOG_END@gcc.log@@@",
      "@@@STEP_LOG_END@g++.log@@@"
    ]
  },
  {
    "cmd": [
      "python",
      "-u",
      "[START_DIR]/cipd/goma/goma_ctl.py",
      "jsonstatus",
      "[START_DIR]/cipd/goma/jsonstatus"
    ],
    "env": {
      "GOMA_CACHE_DIR": "[CACHE]/goma",
      "GOMA_DEPS_CACHE_FILE": "goma_deps_cache",
      "GOMA_FAIL_FOR_UNSUPPORTED_COMPILER_FLAGS": "false"
    },
    "name": "goma_jsonstatus"
  },
  {
    "cmd": [
      "python",
      "-u",
      "[START_DIR]/cipd/goma/goma_ctl.py",
      "stat"
    ],
    "env": {
      "GOMA_CACHE_DIR": "[CACHE]/goma",
      "GOMA_DEPS_CACHE_FILE": "goma_deps_cache",
      "GOMA_FAIL_FOR_UNSUPPORTED_COMPILER_FLAGS": "false"
    },
    "name": "goma_stat"
  },
  {
    "cmd": [
      "python",
      "-u",
      "[START_DIR]/cipd/goma/goma_ctl.py",
      "stop"
    ],
    "env": {
      "GOMA_CACHE_DIR": "[CACHE]/goma",
      "GOMA_DEPS_CACHE_FILE": "goma_deps_cache",
      "GOMA_FAIL_FOR_UNSUPPORTED_COMPILER_FLAGS": "false"
    },
    "name": "stop_goma"
  },
  {
    "name": "$result",
    "reason": "Step('test aarch64 gcc') failed with return_code 1",
    "recipe_result": null,
    "status_code": 1
  }
]